(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 4
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i32.load8_s
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 4
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i32.load8_u
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 4
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i32.load16_s
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 4
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i32.load16_u
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 4
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i32.load
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i64.load8_s
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i64.load8_u
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i64.load16_s
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i64.load16_u
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i64.load32_s
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i64.load32_u
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    i64.load
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 4
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    f32.load
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 2
    call 0
    i32.const 0
    f64.load
    i64.const 1
    call 0
    drop
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    i32.const 1
    i32.store8
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    i32.const 1
    i32.store16
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    i32.const 1
    i32.store
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 12
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    i64.const 1
    i64.store8
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 12
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    i64.const 1
    i64.store16
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 12
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    i64.const 1
    i64.store32
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 12
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    i64.const 1
    i64.store
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 8
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    f32.const 0x1p+0 (;=1;)
    f32.store
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func))
  (type (;1;) (func (param i64)))
  (type (;2;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 1)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 2)))
  (func (;2;) (type 0)
    i64.const 12
    i64.const 0
    call 1
    i64.const 3
    call 0
    i32.const 0
    f64.const 0x1p+0 (;=1;)
    f64.store
  )
  (memory (;0;) 0)
)
(module
  (type (;0;) (func (param i32) (result f32)))
  (type (;1;) (func (param i32) (result f64)))
  (type (;2;) (func (param i32 i32) (result i32)))
  (type (;3;) (func (param i32 i32) (result i64)))
  (type (;4;) (func (param i64)))
  (type (;5;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 4)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 5)))
  (func (;2;) (type 0) (param i32) (result f32)
    (local f32 f32)
    i64.const 8
    i64.const 3
    call 1
    i64.const 9
    call 0
    f32.const 0x1.4p+3 (;=10;)
    local.set 1
    block $4 ;; label = @1
      block $2 ;; label = @2
        block $1 ;; label = @3
          block $default ;; label = @4
            block $0 ;; label = @5
              local.get 0
              br_table 0 (;@5;) 1 (;@4;) 2 (;@3;) 3 (;@2;) 4 (;@1;)
            end
            i64.const 3
            call 0
            i32.const 0
            local.get 1
            f32.store
            i64.const 2
            call 0
            i32.const 0
            f32.load
            i64.const 2
            call 0
            local.set 2
            br 3 (;@1;)
          end
          i64.const 3
          call 0
          i32.const 0
          local.get 1
          f32.store align=1
          i64.const 2
          call 0
          i32.const 0
          f32.load align=1
          i64.const 2
          call 0
          local.set 2
          br 2 (;@1;)
        end
        i64.const 3
        call 0
        i32.const 0
        local.get 1
        f32.store align=2
        i64.const 2
        call 0
        i32.const 0
        f32.load align=2
        i64.const 2
        call 0
        local.set 2
        br 1 (;@1;)
      end
      i64.const 3
      call 0
      i32.const 0
      local.get 1
      f32.store
      i64.const 2
      call 0
      i32.const 0
      f32.load
      i64.const 1
      call 0
      local.set 2
    end
    i64.const 1
    call 0
    local.get 2
  )
  (func (;3;) (type 1) (param i32) (result f64)
    (local f64 f64)
    i64.const 12
    i64.const 3
    call 1
    i64.const 10
    call 0
    f64.const 0x1.4p+3 (;=10;)
    local.set 1
    block $8 ;; label = @1
      block $4 ;; label = @2
        block $2 ;; label = @3
          block $1 ;; label = @4
            block $default ;; label = @5
              block $0 ;; label = @6
                local.get 0
                br_table 0 (;@6;) 1 (;@5;) 2 (;@4;) 3 (;@3;) 4 (;@2;) 5 (;@1;)
              end
              i64.const 3
              call 0
              i32.const 0
              local.get 1
              f64.store
              i64.const 2
              call 0
              i32.const 0
              f64.load
              i64.const 2
              call 0
              local.set 2
              br 4 (;@1;)
            end
            i64.const 3
            call 0
            i32.const 0
            local.get 1
            f64.store align=1
            i64.const 2
            call 0
            i32.const 0
            f64.load align=1
            i64.const 2
            call 0
            local.set 2
            br 3 (;@1;)
          end
          i64.const 3
          call 0
          i32.const 0
          local.get 1
          f64.store align=2
          i64.const 2
          call 0
          i32.const 0
          f64.load align=2
          i64.const 2
          call 0
          local.set 2
          br 2 (;@1;)
        end
        i64.const 3
        call 0
        i32.const 0
        local.get 1
        f64.store align=4
        i64.const 2
        call 0
        i32.const 0
        f64.load align=4
        i64.const 2
        call 0
        local.set 2
        br 1 (;@1;)
      end
      i64.const 3
      call 0
      i32.const 0
      local.get 1
      f64.store
      i64.const 2
      call 0
      i32.const 0
      f64.load
      i64.const 1
      call 0
      local.set 2
    end
    i64.const 1
    call 0
    local.get 2
  )
  (func (;4;) (type 2) (param i32 i32) (result i32)
    (local i32 i32)
    i64.const 8
    i64.const 4
    call 1
    i64.const 10
    call 0
    i32.const 10
    local.set 2
    block $32 ;; label = @1
      block $16u ;; label = @2
        block $16s ;; label = @3
          block $8u ;; label = @4
            block $8s ;; label = @5
              block $0 ;; label = @6
                local.get 0
                br_table 0 (;@6;) 1 (;@5;) 2 (;@4;) 3 (;@3;) 4 (;@2;) 5 (;@1;)
              end
              i64.const 4
              call 0
              local.get 1
              i32.const 0
              i32.eq
              if ;; label = @6
                i64.const 3
                call 0
                i32.const 0
                local.get 2
                i32.store8
                i64.const 2
                call 0
                i32.const 0
                i32.load8_s
                i64.const 1
                call 0
                local.set 3
              end
              i64.const 4
              call 0
              local.get 1
              i32.const 1
              i32.eq
              if ;; label = @6
                i64.const 3
                call 0
                i32.const 0
                local.get 2
                i32.store8
                i64.const 2
                call 0
                i32.const 0
                i32.load8_s
                i64.const 1
                call 0
                local.set 3
              end
              i64.const 1
              call 0
              br 4 (;@1;)
            end
            i64.const 4
            call 0
            local.get 1
            i32.const 0
            i32.eq
            if ;; label = @5
              i64.const 3
              call 0
              i32.const 0
              local.get 2
              i32.store8
              i64.const 2
              call 0
              i32.const 0
              i32.load8_u
              i64.const 1
              call 0
              local.set 3
            end
            i64.const 4
            call 0
            local.get 1
            i32.const 1
            i32.eq
            if ;; label = @5
              i64.const 3
              call 0
              i32.const 0
              local.get 2
              i32.store8
              i64.const 2
              call 0
              i32.const 0
              i32.load8_u
              i64.const 1
              call 0
              local.set 3
            end
            i64.const 1
            call 0
            br 3 (;@1;)
          end
          i64.const 4
          call 0
          local.get 1
          i32.const 0
          i32.eq
          if ;; label = @4
            i64.const 3
            call 0
            i32.const 0
            local.get 2
            i32.store16
            i64.const 2
            call 0
            i32.const 0
            i32.load16_s
            i64.const 1
            call 0
            local.set 3
          end
          i64.const 4
          call 0
          local.get 1
          i32.const 1
          i32.eq
          if ;; label = @4
            i64.const 3
            call 0
            i32.const 0
            local.get 2
            i32.store16 align=1
            i64.const 2
            call 0
            i32.const 0
            i32.load16_s align=1
            i64.const 1
            call 0
            local.set 3
          end
          i64.const 4
          call 0
          local.get 1
          i32.const 2
          i32.eq
          if ;; label = @4
            i64.const 3
            call 0
            i32.const 0
            local.get 2
            i32.store16
            i64.const 2
            call 0
            i32.const 0
            i32.load16_s
            i64.const 1
            call 0
            local.set 3
          end
          i64.const 1
          call 0
          br 2 (;@1;)
        end
        i64.const 4
        call 0
        local.get 1
        i32.const 0
        i32.eq
        if ;; label = @3
          i64.const 3
          call 0
          i32.const 0
          local.get 2
          i32.store16
          i64.const 2
          call 0
          i32.const 0
          i32.load16_u
          i64.const 1
          call 0
          local.set 3
        end
        i64.const 4
        call 0
        local.get 1
        i32.const 1
        i32.eq
        if ;; label = @3
          i64.const 3
          call 0
          i32.const 0
          local.get 2
          i32.store16 align=1
          i64.const 2
          call 0
          i32.const 0
          i32.load16_u align=1
          i64.const 1
          call 0
          local.set 3
        end
        i64.const 4
        call 0
        local.get 1
        i32.const 2
        i32.eq
        if ;; label = @3
          i64.const 3
          call 0
          i32.const 0
          local.get 2
          i32.store16
          i64.const 2
          call 0
          i32.const 0
          i32.load16_u
          i64.const 1
          call 0
          local.set 3
        end
        i64.const 1
        call 0
        br 1 (;@1;)
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 0
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i32.store
        i64.const 2
        call 0
        i32.const 0
        i32.load
        i64.const 1
        call 0
        local.set 3
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 1
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i32.store align=1
        i64.const 2
        call 0
        i32.const 0
        i32.load align=1
        i64.const 1
        call 0
        local.set 3
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 2
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i32.store align=2
        i64.const 2
        call 0
        i32.const 0
        i32.load align=2
        i64.const 1
        call 0
        local.set 3
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 4
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i32.store
        i64.const 2
        call 0
        i32.const 0
        i32.load
        i64.const 1
        call 0
        local.set 3
      end
    end
    i64.const 1
    call 0
    local.get 3
  )
  (func (;5;) (type 3) (param i32 i32) (result i64)
    (local i64 i64)
    i64.const 12
    i64.const 4
    call 1
    i64.const 12
    call 0
    i64.const 10
    local.set 2
    block $64 ;; label = @1
      block $32u ;; label = @2
        block $32s ;; label = @3
          block $16u ;; label = @4
            block $16s ;; label = @5
              block $8u ;; label = @6
                block $8s ;; label = @7
                  block $0 ;; label = @8
                    local.get 0
                    br_table 0 (;@8;) 1 (;@7;) 2 (;@6;) 3 (;@5;) 4 (;@4;) 5 (;@3;) 6 (;@2;) 7 (;@1;)
                  end
                  i64.const 4
                  call 0
                  local.get 1
                  i32.const 0
                  i32.eq
                  if ;; label = @8
                    i64.const 3
                    call 0
                    i32.const 0
                    local.get 2
                    i64.store8
                    i64.const 2
                    call 0
                    i32.const 0
                    i64.load8_s
                    i64.const 1
                    call 0
                    local.set 3
                  end
                  i64.const 4
                  call 0
                  local.get 1
                  i32.const 1
                  i32.eq
                  if ;; label = @8
                    i64.const 3
                    call 0
                    i32.const 0
                    local.get 2
                    i64.store8
                    i64.const 2
                    call 0
                    i32.const 0
                    i64.load8_s
                    i64.const 1
                    call 0
                    local.set 3
                  end
                  i64.const 1
                  call 0
                  br 6 (;@1;)
                end
                i64.const 4
                call 0
                local.get 1
                i32.const 0
                i32.eq
                if ;; label = @7
                  i64.const 3
                  call 0
                  i32.const 0
                  local.get 2
                  i64.store8
                  i64.const 2
                  call 0
                  i32.const 0
                  i64.load8_u
                  i64.const 1
                  call 0
                  local.set 3
                end
                i64.const 4
                call 0
                local.get 1
                i32.const 1
                i32.eq
                if ;; label = @7
                  i64.const 3
                  call 0
                  i32.const 0
                  local.get 2
                  i64.store8
                  i64.const 2
                  call 0
                  i32.const 0
                  i64.load8_u
                  i64.const 1
                  call 0
                  local.set 3
                end
                i64.const 1
                call 0
                br 5 (;@1;)
              end
              i64.const 4
              call 0
              local.get 1
              i32.const 0
              i32.eq
              if ;; label = @6
                i64.const 3
                call 0
                i32.const 0
                local.get 2
                i64.store16
                i64.const 2
                call 0
                i32.const 0
                i64.load16_s
                i64.const 1
                call 0
                local.set 3
              end
              i64.const 4
              call 0
              local.get 1
              i32.const 1
              i32.eq
              if ;; label = @6
                i64.const 3
                call 0
                i32.const 0
                local.get 2
                i64.store16 align=1
                i64.const 2
                call 0
                i32.const 0
                i64.load16_s align=1
                i64.const 1
                call 0
                local.set 3
              end
              i64.const 4
              call 0
              local.get 1
              i32.const 2
              i32.eq
              if ;; label = @6
                i64.const 3
                call 0
                i32.const 0
                local.get 2
                i64.store16
                i64.const 2
                call 0
                i32.const 0
                i64.load16_s
                i64.const 1
                call 0
                local.set 3
              end
              i64.const 1
              call 0
              br 4 (;@1;)
            end
            i64.const 4
            call 0
            local.get 1
            i32.const 0
            i32.eq
            if ;; label = @5
              i64.const 3
              call 0
              i32.const 0
              local.get 2
              i64.store16
              i64.const 2
              call 0
              i32.const 0
              i64.load16_u
              i64.const 1
              call 0
              local.set 3
            end
            i64.const 4
            call 0
            local.get 1
            i32.const 1
            i32.eq
            if ;; label = @5
              i64.const 3
              call 0
              i32.const 0
              local.get 2
              i64.store16 align=1
              i64.const 2
              call 0
              i32.const 0
              i64.load16_u align=1
              i64.const 1
              call 0
              local.set 3
            end
            i64.const 4
            call 0
            local.get 1
            i32.const 2
            i32.eq
            if ;; label = @5
              i64.const 3
              call 0
              i32.const 0
              local.get 2
              i64.store16
              i64.const 2
              call 0
              i32.const 0
              i64.load16_u
              i64.const 1
              call 0
              local.set 3
            end
            i64.const 1
            call 0
            br 3 (;@1;)
          end
          i64.const 4
          call 0
          local.get 1
          i32.const 0
          i32.eq
          if ;; label = @4
            i64.const 3
            call 0
            i32.const 0
            local.get 2
            i64.store32
            i64.const 2
            call 0
            i32.const 0
            i64.load32_s
            i64.const 1
            call 0
            local.set 3
          end
          i64.const 4
          call 0
          local.get 1
          i32.const 1
          i32.eq
          if ;; label = @4
            i64.const 3
            call 0
            i32.const 0
            local.get 2
            i64.store32 align=1
            i64.const 2
            call 0
            i32.const 0
            i64.load32_s align=1
            i64.const 1
            call 0
            local.set 3
          end
          i64.const 4
          call 0
          local.get 1
          i32.const 2
          i32.eq
          if ;; label = @4
            i64.const 3
            call 0
            i32.const 0
            local.get 2
            i64.store32 align=2
            i64.const 2
            call 0
            i32.const 0
            i64.load32_s align=2
            i64.const 1
            call 0
            local.set 3
          end
          i64.const 4
          call 0
          local.get 1
          i32.const 4
          i32.eq
          if ;; label = @4
            i64.const 3
            call 0
            i32.const 0
            local.get 2
            i64.store32
            i64.const 2
            call 0
            i32.const 0
            i64.load32_s
            i64.const 1
            call 0
            local.set 3
          end
          i64.const 1
          call 0
          br 2 (;@1;)
        end
        i64.const 4
        call 0
        local.get 1
        i32.const 0
        i32.eq
        if ;; label = @3
          i64.const 3
          call 0
          i32.const 0
          local.get 2
          i64.store32
          i64.const 2
          call 0
          i32.const 0
          i64.load32_u
          i64.const 1
          call 0
          local.set 3
        end
        i64.const 4
        call 0
        local.get 1
        i32.const 1
        i32.eq
        if ;; label = @3
          i64.const 3
          call 0
          i32.const 0
          local.get 2
          i64.store32 align=1
          i64.const 2
          call 0
          i32.const 0
          i64.load32_u align=1
          i64.const 1
          call 0
          local.set 3
        end
        i64.const 4
        call 0
        local.get 1
        i32.const 2
        i32.eq
        if ;; label = @3
          i64.const 3
          call 0
          i32.const 0
          local.get 2
          i64.store32 align=2
          i64.const 2
          call 0
          i32.const 0
          i64.load32_u align=2
          i64.const 1
          call 0
          local.set 3
        end
        i64.const 4
        call 0
        local.get 1
        i32.const 4
        i32.eq
        if ;; label = @3
          i64.const 3
          call 0
          i32.const 0
          local.get 2
          i64.store32
          i64.const 2
          call 0
          i32.const 0
          i64.load32_u
          i64.const 1
          call 0
          local.set 3
        end
        i64.const 1
        call 0
        br 1 (;@1;)
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 0
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i64.store
        i64.const 2
        call 0
        i32.const 0
        i64.load
        i64.const 1
        call 0
        local.set 3
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 1
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i64.store align=1
        i64.const 2
        call 0
        i32.const 0
        i64.load align=1
        i64.const 1
        call 0
        local.set 3
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 2
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i64.store align=2
        i64.const 2
        call 0
        i32.const 0
        i64.load align=2
        i64.const 1
        call 0
        local.set 3
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 4
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i64.store align=4
        i64.const 2
        call 0
        i32.const 0
        i64.load align=4
        i64.const 1
        call 0
        local.set 3
      end
      i64.const 4
      call 0
      local.get 1
      i32.const 8
      i32.eq
      if ;; label = @2
        i64.const 3
        call 0
        i32.const 0
        local.get 2
        i64.store
        i64.const 2
        call 0
        i32.const 0
        i64.load
        i64.const 1
        call 0
        local.set 3
      end
    end
    i64.const 1
    call 0
    local.get 3
  )
  (memory (;0;) 1)
  (export "f32_align_switch" (func 2))
  (export "f64_align_switch" (func 3))
  (export "i32_align_switch" (func 4))
  (export "i64_align_switch" (func 5))
)
(assert_return (invoke "f32_align_switch" (i32.const 0)) (f32.const 10.0))
(assert_return (invoke "f32_align_switch" (i32.const 1)) (f32.const 10.0))
(assert_return (invoke "f32_align_switch" (i32.const 2)) (f32.const 10.0))
(assert_return (invoke "f32_align_switch" (i32.const 3)) (f32.const 10.0))

(assert_return (invoke "f64_align_switch" (i32.const 0)) (f64.const 10.0))
(assert_return (invoke "f64_align_switch" (i32.const 1)) (f64.const 10.0))
(assert_return (invoke "f64_align_switch" (i32.const 2)) (f64.const 10.0))
(assert_return (invoke "f64_align_switch" (i32.const 3)) (f64.const 10.0))
(assert_return (invoke "f64_align_switch" (i32.const 4)) (f64.const 10.0))

(assert_return (invoke "i32_align_switch" (i32.const 0) (i32.const 0)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 0) (i32.const 1)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 1) (i32.const 0)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 1) (i32.const 1)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 2) (i32.const 0)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 2) (i32.const 1)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 2) (i32.const 2)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 3) (i32.const 0)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 3) (i32.const 1)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 3) (i32.const 2)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 4) (i32.const 0)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 4) (i32.const 1)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 4) (i32.const 2)) (i32.const 10))
(assert_return (invoke "i32_align_switch" (i32.const 4) (i32.const 4)) (i32.const 10))

(assert_return (invoke "i64_align_switch" (i32.const 0) (i32.const 0)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 0) (i32.const 1)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 1) (i32.const 0)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 1) (i32.const 1)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 2) (i32.const 0)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 2) (i32.const 1)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 2) (i32.const 2)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 3) (i32.const 0)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 3) (i32.const 1)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 3) (i32.const 2)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 4) (i32.const 0)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 4) (i32.const 1)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 4) (i32.const 2)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 4) (i32.const 4)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 5) (i32.const 0)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 5) (i32.const 1)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 5) (i32.const 2)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 5) (i32.const 4)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 6) (i32.const 0)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 6) (i32.const 1)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 6) (i32.const 2)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 6) (i32.const 4)) (i64.const 10))
(assert_return (invoke "i64_align_switch" (i32.const 6) (i32.const 8)) (i64.const 10))

;; Test that an i64 store with 4-byte alignment that's 4 bytes out of bounds traps without storing anything

(module
  (type (;0;) (func (param i32 i64)))
  (type (;1;) (func (param i32) (result i32)))
  (type (;2;) (func (param i64)))
  (type (;3;) (func (param i64 i64)))
  (import "spectest" "finite_wasm_gas" (func (;0;) (type 2)))
  (import "spectest" "finite_wasm_stack" (func (;1;) (type 3)))
  (func (;2;) (type 0) (param i32 i64)
    i64.const 12
    i64.const 2
    call 1
    i64.const 3
    call 0
    local.get 0
    local.get 1
    i64.store align=4
  )
  (func (;3;) (type 1) (param i32) (result i32)
    i64.const 4
    i64.const 1
    call 1
    i64.const 2
    call 0
    local.get 0
    i32.load
  )
  (memory (;0;) 1)
  (export "store" (func 2))
  (export "load" (func 3))
)
(assert_trap (invoke "store" (i32.const 65532) (i64.const -1)) "out of bounds memory access")
;; No memory was changed
(assert_return (invoke "load" (i32.const 65532)) (i32.const 0))
